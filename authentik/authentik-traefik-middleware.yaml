apiVersion: traefik.containo.us/v1alpha1
kind: Middleware
metadata:
    name: authentik
spec:
    forwardAuth:
        address: https://domain_you_want_authentik_to_protect.yourdomain.com/outpost.goauthentik.io/auth/traefik  (this will be generated automatically in authentik settings, see documentation)
        trustForwardHeader: true
        authResponseHeaders:
            - X-authentik-username
            - X-authentik-groups
            - X-authentik-email
            - X-authentik-name
            - X-authentik-uid
            - X-authentik-jwt
            - X-authentik-meta-jwks
            - X-authentik-meta-outpost
            - X-authentik-meta-provider
            - X-authentik-meta-app
            - X-authentik-meta-version
